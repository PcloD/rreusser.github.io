(function(){var o,t,n,e,s,r,i={}.hasOwnProperty,l=function(o,t){function n(){this.constructor=o}for(var e in t)i.call(t,e)&&(o[e]=t[e]);return n.prototype=t.prototype,o.prototype=new n,o.__super__=t.prototype,o};this.app=angular.module("bootstrapCreator",[]),s=function(){function o(o){this.options=$.extend({content:void 0,classes:[].concat(this.classes),typeClass:"",typeClassVariants:[],id:void 0,childNodes:[],parent:null,nodeName:this.nodeName||"div",permittedChildren:null,forbiddenChildren:null},o),this.nodeName=this.options.nodeName,this.classes=this.options.classes,this.typeClass=this.options.typeClass,this.parent=this.options.parent,this.childNodes=this.options.childNodes}return o.prototype.typeClassVariants=function(){return this.constructor.typeClassVariants||[]},o.prototype.hasTypeClassVariants=function(){return void 0!==this.constructor.typeClassVariants&&this.constructor.typeClassVariants.length>1},o.prototype.killChildren=function(){return this.childNodes=[]},o.prototype.killSelf=function(){return this.canKillSelf()?this.parent.removeChild(this):void 0},o.prototype.canKillChildren=function(){return this.hasChildren()},o.prototype.canKillSelf=function(){return null!==this.parent},o.prototype.removeChild=function(o){var t;return t=this.childNodes.indexOf(o),t>-1?this.childNodes.splice(t,1):void 0},o.prototype.addChild=function(t,n){return this.childNodes.push(new o.types[t](n))},o.prototype.classList=function(){return this.classes.concat([this.typeClass]).join(" ")},o.prototype.hasChildren=function(){return this.childNodes.length>0},o.prototype.isPlaceholder=function(){return!this.hasChildren()&&!this.hasContent()},o.prototype.hasContent=function(){return void 0!==this.content&&this.content.length>0},o.prototype.hover=function(){return this.childHasHover()||(this.hovered=!0),this.parent?this.parent.unhover():void 0},o.prototype.unhover=function(){return this.hovered=!1,this.parent?this.parent.unhover():void 0},o.prototype.childHasHover=function(){var o,t,n,e;for(e=this.childNodes,t=0,n=e.length;n>t;t++)if(o=e[t],o.hovered||o.childHasHover())return!0},o}(),e=function(o){function t(o){t.__super__.constructor.call(this,$.extend({nodeName:"div"},o))}return l(t,o),t}(s),r=function(o){function t(o){t.__super__.constructor.call(this,$.extend({nodeName:"root"},o))}return l(t,o),t}(e),o=function(o){function t(o){t.__super__.constructor.call(this,$.extend({typeClass:"col-sm-3"},o))}return l(t,o),t.typeClassVariants=["col-xs-1","col-xs-2","col-xs-3","col-xs-4","col-xs-5","col-xs-6","col-xs-7","col-xs-8","col-xs-9","col-xs-10","col-xs-11","col-xs-12","col-sm-1","col-sm-2","col-sm-3","col-sm-4","col-sm-5","col-sm-6","col-sm-7","col-sm-8","col-sm-9","col-sm-10","col-sm-11","col-sm-12","col-md-1","col-md-2","col-md-3","col-md-4","col-md-5","col-md-6","col-md-7","col-md-8","col-md-9","col-md-10","col-md-11","col-md-12","col-lg-1","col-lg-2","col-lg-3","col-lg-4","col-lg-5","col-lg-6","col-lg-7","col-lg-8","col-lg-9","col-lg-10","col-lg-11","col-lg-12"],t}(e),n=function(o){function t(o){t.__super__.constructor.call(this,$.extend({typeClass:"row"},o))}return l(t,o),t.permittedChildren=["bsColumn"],t}(e),t=function(o){function t(o){t.__super__.constructor.call(this,$.extend({typeClass:"container"},o))}return l(t,o),t.typeClassVariants=["container","container-fluid"],t}(e),s.types={root:r,div:e,bsContainer:t,bsRow:n,bsColumn:o},this.app.controller("TreeController",["$scope",function(o){return o.tree=[new r],o.blur=function(){return o.focusNode=void 0},o.setFocus=function(t){return o.focusNode=t},o.hasFocus=function(){return void 0!==o.focusNode},o.addToFocused=function(t){return o.hasFocus()?o.focusNode.addChild(t,{parent:o.focusNode}):void 0},o.deleteFocused=function(){return void 0!==o.focusNode?(console.log(o.focusNode),o.focusNode.killSelf()):void 0}}]),this.app.directive("stopPropagation",function(){return{restrict:"A",link:function(o,t,n){return $(t).on(n.stopPropagation,"",function(o){return o.stopPropagation()})}}}),this.app.controller("NodeController",["$scope",function(o){return o.assign=function(t){return o.node=t,o.focus(),o.typeClass=o.node.typeClass},o.deleteChildren=function(){return o.node.killChildren()},o.deleteSelf=function(){return o.node.killSelf()},o.focus=function(){return o.setFocus(o.node)},o.focused=function(){return o.focusNode===o.node},o.openAddDialog=function(){return o.focus()},o.onMouseEnter=function(){return o.node.hover()},o.onMouseLeave=function(){return o.node.unhover()}}])}).call(this);