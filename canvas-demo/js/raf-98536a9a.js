!function(){for(var i=0,n=["webkit","moz"],t=0;t<n.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[n[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n[t]+"CancelAnimationFrame"]||window[n[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),a=Math.max(0,16-(t-i)),e=window.setTimeout(function(){n(t+a)},a);return i=t+a,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(i){clearTimeout(i)})}(),window.CTK=window.CTK||{},window.CTK.RAF=Class.extend({init:function(i){this.raf=void 0,this.onFrameCallback=i||function(){},this.onframe=this.onframe.bind(this),this.frame=0,this.pausedAt=void 0},playing:function(){return void 0!==this.raf},playPause:function(){this.paused()?this.play():this.pause()},paused:function(){return void 0===this.raf},onframe:function(){this.t=.001*Date.now()-this.t0,this.frame++,this.onFrameCallback({t:this.t,frame:this.frame}),this.raf=window.requestAnimationFrame(this.onframe)},play:function(){this.playing()||(this.raf=window.requestAnimationFrame(this.onframe),void 0===this.pausedAt?this.t0=.001*Date.now():(this.t0+=.001*(Date.now()-this.pausedAt),this.pausedAt=void 0))},pause:function(){void 0!==this.raf&&(this.pausedAt=Date.now(),window.cancelAnimationFrame(this.raf),this.raf=void 0)}});